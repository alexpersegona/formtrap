@import "tailwindcss";

/* @import "./themeOld.css"; */
/* @import "./themeTest04.css"; */
@import "./theme.css";

@import "tw-animate-css";

/* Rewire sidebar colors to standard ShadCN semantic colors */
:root {
  --sidebar-primary: var(--primary);
  --sidebar-primary-foreground: var(--primary-foreground);
  --sidebar-accent: var(--accent);
  --sidebar-accent-foreground: var(--accent-foreground);
  
  --primary-tint: oklch(from var(--primary) 70% 0.28 180);
  --primary-shade: oklch(from var(--primary) 65% 0.20 180);

  --card-padding: 1.25rem;
  --root-scale: 1;
}




.dark {
  --sidebar-primary: var(--primary);
  --sidebar-primary-foreground: var(--primary-foreground);
  --sidebar-accent: var(--accent);
  --sidebar-accent-foreground: var(--accent-foreground);

  --primary-tint: oklch(from var(--primary) 81% 0.4 180);
  --primary-shade: oklch(from var(--primary) 50% 0.30 180);

}

@custom-variant dark (&:is(.dark *));

html {
  color-scheme: light;
}


/* target selected highlight text */
::selection {
  background-color: var(--primary);
  /* color: oklch(0.98 0 0); */
  /* color: var(--primary-foreground); */
  color: white;
}

html.dark {
  color-scheme: dark;
}

body {
  overflow-x: hidden;
}

/* Prevent 1Password extension elements from affecting layout */
#\31 p-container,
#\31 p-live-region,
[id^="1p-"] {
  position: fixed !important;
  height: 0 !important;
  overflow: hidden !important;
}


@layer base {
  * {
    @apply border-border outline-ring/50;
  }

  body {
    @apply bg-background text-foreground antialiased;
  }

  /* Override autofill styles */
  input:-webkit-autofill,
  input:-webkit-autofill:hover,
  input:-webkit-autofill:focus,
  input:-webkit-autofill:active {
    -webkit-box-shadow: 0 0 0 30px var(--background) inset !important;
    -webkit-text-fill-color: var(--foreground) !important;
    caret-color: var(--foreground);
  }

  input[type="password"]:-webkit-autofill,
  input[type="email"]:-webkit-autofill,
  input[type="text"]:-webkit-autofill {
    -webkit-box-shadow: 0 0 0 30px var(--background) inset !important;
    -webkit-text-fill-color: var(--foreground) !important;
  }
}

@layer components {
  .glow-button {
    background: #18181b;
  }

  .glow-button::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(150px circle at var(--mouse-x) var(--mouse-y),
        rgba(34, 197, 94, 0.15),
        transparent 100%);
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
  }

  .glow-button:hover::before {
    opacity: 1;
  }
}

@keyframes subtle-glow {

  0%,
  100% {
    box-shadow: 0 0 8px rgba(34, 197, 94, 0.15), 0 0 0 1px rgba(39, 39, 42, 0.8), inset 0 1px 0 rgba(63, 63, 70, 0.3);
  }

  50% {
    box-shadow: 0 0 18px rgba(34, 197, 94, 0.3), 0 0 0 1px rgba(39, 39, 42, 0.8), inset 0 1px 0 rgba(63, 63, 70, 0.3);
  }
}

/* CSS Custom Properties for scroll shadow animation */
@property --top-fade {
  syntax: "<length>";
  inherits: false;
  initial-value: 0;
}

@property --bottom-fade {
  syntax: "<length>";
  inherits: false;
  initial-value: 0;
}

/* Scroll shadows using mask and scroll-driven animations */
@layer components {
  .scroll-shadows {
    --shadow-distance: 3rem;
    mask: linear-gradient(
      to bottom,
      transparent,
      black var(--top-fade),
      black calc(100% - var(--bottom-fade)),
      transparent
    );
  }

  /* Scroll-driven animation */
  @supports (animation-timeline: scroll()) {
    .scroll-shadows {
      animation: scrollfade linear;
      animation-timeline: scroll(self);
    }

    @keyframes scrollfade {
      0% {
        --top-fade: 0;
      }
      3%, 100% {
        --top-fade: var(--shadow-distance);
      }
      0%, 97% {
        --bottom-fade: var(--shadow-distance);
      }
      100% {
        --bottom-fade: 0;
      }
    }
  }

  /* Fallback for browsers without scroll-driven animations */
  @supports not (animation-timeline: scroll()) {
    .scroll-shadows {
      padding-top: 0.5rem;
      padding-bottom: 0.5rem;
      background: linear-gradient(white 30%, rgba(255, 255, 255, 0)),
        linear-gradient(rgba(255, 255, 255, 0), white 70%) 0 100%,
        radial-gradient(farthest-side at 50% 0, rgba(0, 0, 0, 0.15), rgba(0, 0, 0, 0)),
        radial-gradient(farthest-side at 50% 100%, rgba(0, 0, 0, 0.15), rgba(0, 0, 0, 0)) 0 100%;
      background-repeat: no-repeat;
      background-size: 100% 40px, 100% 40px, 100% 14px, 100% 14px;
      background-attachment: local, local, scroll, scroll;
      mask: none;
    }

    :global(.dark) .scroll-shadows {
      background: linear-gradient(oklch(0.1653 0.0111 185.3493) 30%, rgba(0, 0, 0, 0)),
        linear-gradient(rgba(0, 0, 0, 0), oklch(0.1653 0.0111 185.3493) 70%) 0 100%,
        radial-gradient(farthest-side at 50% 0, rgba(255, 255, 255, 0.15), rgba(0, 0, 0, 0)),
        radial-gradient(farthest-side at 50% 100%, rgba(255, 255, 255, 0.15), rgba(0, 0, 0, 0)) 0 100%;
      background-repeat: no-repeat;
      background-size: 100% 40px, 100% 40px, 100% 14px, 100% 14px;
      background-attachment: local, local, scroll, scroll;
    }
  }
}

